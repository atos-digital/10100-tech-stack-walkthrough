# Quickstart

To run the code in this directory, execute the following command:

```bash
go run main.go
```

Install and run Tailwind with the following commands:

```bash
npm install -g tailwindcss
npx tailwindcss -i ./input.css -o ./assets/output.css --watch
```

# Getting Started with Tailwind

We use [Tailwind](https://tailwindcss.com/) for styling HTML components.

Since Tailwind is a dev dependency, it is not necessary to have it installed to run the code in this codebase. However, we strongly recommend setting up Tailwind using [the instructions below](#using-tailwind-in-this-codebase) so you can experiment with it.

## Using Tailwind in this codebase

In this codebase, Tailwind has been fully set up and configured. To use Tailwind in this codebase, install Tailwind with the following command:

```bash
npm install -g tailwindcss
```

Next, run the following command. The `--watch` flag means Tailwind will watch for changes to your CSS and rebuild it automatically.

```bash
npx tailwindcss -i ./input.css -o ./assets/output.css --watch
```

You can now head over to [`index.html`](./ui/index.html) and start experimenting with Tailwind classes. Find a full list of utility classes in the [Tailwind documentation](https://tailwindcss.com/docs).

## Setting up Tailwind in your own codebase

If you want to set up Tailwind from scratch in your own codebase, follow the steps below.

Install Tailwind with the following command:

```bash
npm install -g tailwindcss
```

Create a `tailwind.config.js` file in your root directory.

```bash
npx tailwindcss init
```

Create a directory to hold your template files, and add the path to this directory under the `content` property in your `tailwind.config.js` file. Your files can have different extensions.

In this codebase we use `ui`, but you can use any name you want - just make sure to update the `content` property in your `tailwind.config.js` file.

```js
module.exports = {
  content: ["./ui/**/*.{html,js}"],
};
```

Create an `input.css` file in your root directory and add the following code. If your code editor supports it, set the language mode to `Tailwind CSS` for correct syntax highlighting.

```css
@tailwind base;
@tailwind components;
@tailwind utilities;
```

To build your CSS using Tailwind, run the following command. In this command, Tailwind will take the `input.css` file as input and generate an `output.css` file under the `assets` directory. Replace the file paths as necessary.

```bash
npx tailwindcss -i ./input.css -o ./assets/output.css --watch
```

Add the path of your compiled CSS file to the <head> of your HTML file.

```html
<html>
  <head>
    <link href="./output.css" rel="stylesheet" />
  </head>
</html>
```

# Code Explanation for 2-tailwind

A few structural changes have been made since the previous example.

1. The HTML code has been moved out of `main.go` and into `ui/index.html`.
2. The root directory now contains an `input.css` file, which Tailwind uses to generate the `assets/output.css` file.
3. An `assets` directory has been added to hold the `output.css` file.

## HTML & Tailwind

Let's have a look at the Tailwind additions to our HTML code in `ui/index.html`.

```html
<div id="counter" class="font-bold text-lg text-red-600">Counter: 0</div>

<button
  hx-get="/hx/add-one"
  hx-target="#counter"
  hx-swap="outerHTML"
  class="rounded-full bg-blue-600 text-white px-2 py-1"
>
  Add 1
</button>

<button
  hx-get="/hx/reset"
  hx-target="#counter"
  hx-swap="outerHTML"
  class="rounded-full bg-blue-600 text-white px-2 py-1"
>
  Reset
</button>
```

A number of Tailwind utility classes have been added to the HTML elements to style them. Find a full list of utility classes in the [Tailwind documentation](https://tailwindcss.com/docs).

- `font-bold` makes the text bold.
- `text-lg` makes the text large.
- `text-red-600` makes the text red.
- `rounded-full` makes the buttons round.
- `bg-blue-600` makes the buttons blue.
- `text-white` makes the text white.
- `px-2` adds horizontal padding.
- `py-1` adds vertical padding.

We recommend comparing the rendered HTML in this directory with the HTML in [`1-htmx`](../1-htmx/) to see how Tailwind classes have been used to style the HTML elements. You may notice that Tailwind strips out default styling of HTML elements - for example, the default 8px margin for the `<body>` element has been removed. Read more about Tailwind's base styles [here](https://tailwindcss.com/docs/preflight).

## Go

We have also made some changes to our Go code in `main.go`.

```go
http.Handle("/assets/", http.StripPrefix("/assets/", http.FileServer(http.Dir("assets"))))
```

This sets up a route for serving static assets (like images, stylesheets, or scripts) from the `assets` directory. In this example, the only file in our `assets` directory is `output.css`, which is generated by Tailwind.

`http.FileServer(http.Dir("assets"))` creates a HTTP handler that serves files from the `assets` directory.

`http.StripPrefix("/assets/", ...)` creates a new handler that serves HTTP requests by removing the "/assets/" prefix from the request URL before forwarding it to the wrapped handler.

Note that it is generally good practice to put assets such as CSS and JS files in a different directory and serve them separately from HTML files.

```go
func handleIndex(w http.ResponseWriter, r *http.Request) {
	http.ServeFile(w, r, "./ui/index.html")
}
```

`http.ServeFile(w, r, "./ui/index.html")` serve the contents of `./ui/index.html` directly as the HTTP response.
